<div class="card bg-tertiary vw-75 m-3 px-sm-5 px-3 py-3">
    <div class="d-flex flex-column flex-sm-row justify-content-between mb-3">
        <div class="mr-3 me-sm-0 mb-3 mb-sm-0 d-flex flex-row flex-sm-column align-items-center justify-content-center">
            <h1 class="text-center">{{publicacion.nombre | titlecase}}<a *ngIf="publicacion.shiny">✦</a></h1>
            <div class="image-container bg-white rounded ms-3 ms-sm-0">
                <img src="https://img.pokemondb.net/sprites/home/normal/{{ publicacion.nombre }}.png"
                    alt="{{ publicacion.nombre }}" *ngIf="!publicacion.shiny">
                <img src="https://img.pokemondb.net/sprites/home/shiny/{{ publicacion.nombre }}.png"
                    alt="{{ publicacion.nombre }}" *ngIf="publicacion.shiny">
            </div>

        </div>
        <div class="card bg-primary w-100 p-2 ms-sm-5">
            {{publicacion.descripcion}} <a *ngIf="!publicacion.descripcion">[Sin descripción]</a>
        </div>
    </div>
    <div class="card bg-primary canvas-container p-2">
        <h4 class="">Estadisticas</h4>
        <div class="d-flex flex-column flex-md-row">
            <div class="w-100 m-md-2 mb-2">
                <h5>IVs</h5>
                <canvas class="card bg-white" id="ivChart"></canvas>
            </div>
            <!-- Este canvas se encoje si no tiene mucho espacio por debajo -->
            <div class="w-100 m-md-2 mb-2">
                <h5>EVs</h5>
                <canvas class="card bg-white" id="evChart"></canvas>
            </div>
        </div>
    </div>
    <div class="d-flex flex-column flex-sm-row pt-3">
        <button (click)="back()" class="btn btn-primary m-2 ms-sm-0 text-light">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>
                <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>
              </svg>
        </button>
        <a role="button" class="btn btn-warning m-2 text-light" routerLink="/publicaciones/editar/{{publicacion.id}}" *ngIf="publicacion.user === userId">
            Editar <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 18 18">
                <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
              </svg>
        </a>
        <a role="button" (click)="delete(publicacion)" class="btn btn-danger m-2" *ngIf="publicacion.user === userId">
            Desactivar <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-x" viewBox="0 0 18 18">
                <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"/>
                <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-4.854-1.354a.5.5 0 0 0 0 .708l.647.646-.647.646a.5.5 0 0 0 .708.708l.646-.647.646.647a.5.5 0 0 0 .708-.708l-.647-.646.647-.646a.5.5 0 0 0-.708-.708l-.646.647-.646-.647a.5.5 0 0 0-.708 0Z"/>
              </svg>
        </a>
    </div>
</div>